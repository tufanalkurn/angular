
<div class="card custom-card">
  <form novalidate (ngSubmit)="onSubmit(form)" [formGroup]="form">
      <div class="card-header">
          <h5 class="card-title ">
              Change Password
          </h5> 
          <button class="btn btn-primary" type="submit" [appLadda]="submitted">Update</button>
      </div>
    <div class="card-body">    
      <div *ngIf="gs.errors.length" class="alert alert-danger" role="alert">
        <h4 class="alert-heading">Error Summary:</h4>
        <p *ngFor="let error of gs.errors;" class="mb-0">{{ error }}</p>
      </div>
      <div class="row">
        <div class="col-lg-5 col-sm-6 col-12">
            <mat-form-field appearance="outline">
                <mat-label>Old Password</mat-label>
                <input matInput placeholder="Old password" type="password" formControlName="password" required>
                <mat-error *ngIf="form.get('password').hasError('required') && (submitted || form.get('password').touched)">Old Password is required</mat-error>
            </mat-form-field> 
        </div>
      </div>
      
      <div class="row">
        <div class="col-lg-5 col-sm-6 col-12">
            <mat-form-field appearance="outline">
                <mat-label>New Password</mat-label>
                <input matInput placeholder="New Password" formControlName="newpass" [type]="hide ? 'text' : 'password'" required>
                <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility' : 'visibility_off'}}</mat-icon>
                <mat-error  *ngIf="f.newpass.errors && f.newpass.touched">
                    <div *ngIf="f.newpass.errors.required">New Password is required</div>
                    <div *ngIf="f.newpass.errors.minlength">New Password must be at least 6 characters</div>
                </mat-error>
            </mat-form-field>
        </div>
        <div class="col-lg-5 col-sm-6 col-12">
            <mat-form-field appearance="outline">
                <mat-label>Confirm Password</mat-label>
                <input matInput placeholder="Confirm Password" type="password" formControlName="repeatnewpass" required>
                <mat-error  *ngIf="f.repeatnewpass.errors && f.repeatnewpass.touched">
                  <div *ngIf="f.repeatnewpass.errors.required">Confirm Password is required</div>
                  <div *ngIf="f.repeatnewpass.errors.minlength">Confirm Password must be at least 6 characters</div>
                  <div *ngIf="f.repeatnewpass.errors.mustMatch">Confirm Password must match</div>
                </mat-error>
            </mat-form-field>
        </div>
      </div>
      
    </div>
  </form>
</div>


